!function(){"use strict";var e,t,a,c,n,o,s,i,m=/((?:not )?all and )?(\(color-index: *(22|48|70)\))/i,d=/prefers-color-scheme:/i,r="theme",l="theme-dark",h="theme-light",u="dark",f="light",g=(t="(prefers-color-scheme: dark)",a=window.matchMedia&&matchMedia(t),c=a&&a.media===t,n=function(){o(a.matches?"dark":"light")},o=function(e){e!==i&&(i=e,"function"==typeof s.onChange&&s.onChange()),[].forEach.call(document.styleSheets||[],(function(t){[].forEach.call(t.cssRules||[],(function(t){if(d.test(Object(t.media).mediaText)){var a=[].indexOf.call(t.parentStyleSheet.cssRules,t);t.parentStyleSheet.deleteRule(a)}else{var c=(Object(t.media).mediaText||"").match(m);c&&(t.media.mediaText=((/^dark$/i.test(e)?"48"===c[3]:/^light$/i.test(e)?"70"===c[3]:"22"===c[3])?"not all and ":"")+t.media.mediaText.replace(m,"$2"))}}))}))},s=Object.defineProperty({hasNativeSupport:c,removeListener:function(){a&&a.removeListener(n)}},"scheme",{get:function(){return i},set:o}),i=e||(a&&a.matches?"dark":"light"),o(i),a&&a.addListener(n),s),p=localStorage.getItem(r),k=document.querySelector(".theme-toggler"),y=document.createElement("meta"),L=document.body;function S(){return window.getComputedStyle(document.body).backgroundColor}function v(){L.classList.contains(h)&&L.classList.remove(h),L.classList.add(l)}function b(){L.classList.contains(l)&&L.classList.remove(l),L.classList.add(h)}p&&(g.scheme=p),"dark"===g.scheme?v():b(),k.dataset.mode=g.scheme,y.name="theme-color",y.content=S(),k.addEventListener("click",(function(e){g.scheme===u?(g.scheme=f,b()):g.scheme===f?(g.scheme=u,v()):b(),e.target.dataset.mode=g.scheme,y&&(y.content=S()),localStorage.setItem(r,g.scheme)})),document.getElementsByTagName("head")[0].appendChild(y),fetch("https://quernest-api.herokuapp.com/info")}();
